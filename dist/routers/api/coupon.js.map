{"version":3,"sources":["../../../src/routers/api/coupon.js"],"names":["router","Router","get","req","res","next","pageIndex","query","pageSize","phoneNo","session","user","requestHelper","resp","json","error","module","exports"],"mappings":";;;;;;;;;;AAIA;;;;AACA;;;;;;AALA;;;;AAOA,IAAIA,SAAS,kBAAQC,MAAR,EAAb;;AAEA;;;AAGAD,OAAOE,GAAP,CAAW,MAAX;AAAA,0EAAkB,iBAAOC,GAAP,EAAWC,GAAX,EAAeC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAENC,iCAFM,GAEIH,IAAII,KAAJ,CAAUD,SAFd;AAGNE,gCAHM,GAGGL,IAAII,KAAJ,CAAUC,QAHb;AAINC,+BAJM,GAIEN,IAAIO,OAAJ,CAAYC,IAAZ,CAAiBF,OAJnB;AAAA;AAAA,+BAMKG,cAAcV,GAAd,CAAkB;AAC7B,0CAAa,cADgB;AAE7B,0CAAa,QAFgB;AAG7B,sCAAS,MAHoB;AAI7B,oCAAO;AACJI,oDADI;AAEJE,kDAFI;AAGJC;AAHI;AAJsB,yBAAlB,CANL;;AAAA;AAMNI,4BANM;;;AAiBVT,4BAAIU,IAAJ,CAASD,IAAT;;AAjBU;AAAA;;AAAA;AAAA;AAAA;;AAoBV,yCAAOE,KAAP;;AApBU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAlB;;AAAA;AAAA;AAAA;AAAA;;AAyBAC,OAAOC,OAAP,GAAiBjB,MAAjB","file":"coupon.js","sourcesContent":["/**\n * desc:个人优惠券相关的api 定义\n */\n\nimport express from 'express'\nimport logger from '../../utils/logger';\n\nlet router = express.Router()\n\n/**\n * 获取个人优惠券明细\n */\nrouter.get(\"/get\",async (req,res,next)=>{\n    try{\n        let pageIndex=req.query.pageIndex;\n        let pageSize=req.query.pageSize;\n        let phoneNo=req.session.user.phoneNo;\n\n        let resp=await requestHelper.get({\n            \"moduleName\":\"hulk_service\",\n            \"controller\":\"coupon\",\n            \"action\":\"find\",\n            \"data\":{\n               pageIndex,\n               pageSize,\n               phoneNo\n            }\n        })\n\n        res.json(resp);\n\n    }catch(e){\n        logger.error(`api_coupon_get_error=>${e}`);\n    }\n})\n\n\nmodule.exports = router"]}