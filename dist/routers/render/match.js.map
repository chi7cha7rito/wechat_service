{"version":3,"sources":["../../../src/routers/render/match.js"],"names":["router","Router","get","req","res","next","param","matchJavascript","matchStylesheet","templateData","getTemplateBasicData","render","requestHelper","matchConfigId","query","rewards","data","matchName","logger","error","e","module","exports"],"mappings":"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","file":"match.js","sourcesContent":["import express from \"express\";\nimport Logger from '../../utils/logger';\nimport routerUtil from \"../../utils/router\";\n\n\nlet router = express.Router();\n\n//比赛报名\nrouter.get('/apply', (req, res, next) => {\n  let param = {\n    req: req,\n    matchJavascript: true,\n    matchStylesheet: true\n  }\n\n  let templateData = routerUtil.getTemplateBasicData(param);\n\n  Object.assign(templateData, { \"title\": \"在线报名\" });\n\n  return res.render(\"match/apply\", templateData);\n})\n\n//赛事预告\nrouter.get('/list', (req, res, next) => {\n  let param = {\n    req: req,\n    matchJavascript: true,\n    matchStylesheet: true\n  }\n\n  let templateData = routerUtil.getTemplateBasicData(param);\n\n  Object.assign(templateData, { \"title\": \"赛事预告\" });\n\n  return res.render(\"match/list\", templateData);\n})\n\n//赛事奖励\nrouter.get('/rewards', async (req, res, next) => {\n  try {\n    let param = {\n    req: req,\n    matchJavascript: false,\n    matchStylesheet: true,\n    }\n    let rewards = await requestHelper.get({\n        'moduleName': 'hulk_service',\n        'controller': 'match',\n        'action': 'rewards',\n        'data': { matchConfigId: req.query.matchConfigId }\n    })\n    let templateData = routerUtil.getTemplateBasicData(param);\n\n    Object.assign(templateData, { \"title\": \"赛事奖励\" },{rewards:rewards.data,matchName:req.query.matchName});\n\n    return res.render(\"match/rewards\", templateData);\n  } catch (error) {\n    logger.error(`render_personal_list_error=>${JSON.stringify(e)}`)\n    return res.render('common/error')\n  }\n})\n\n//比赛成绩\nrouter.get('/result', (req, res, next) => {\n  let param = {\n    req: req,\n    matchJavascript: true,\n    matchStylesheet: true\n  }\n\n  let templateData = routerUtil.getTemplateBasicData(param);\n\n  Object.assign(templateData, { \"title\": \"战绩\" });\n\n  return res.render(\"match/result\", templateData);\n})\n\n/**\n * @desc 赛事分享--豪客风采\n */\nrouter.get('/share',async (req,res,next)=>{\n   let param = {\n    req: req,\n    matchJavascript: true,\n    matchStylesheet: true\n  }\n\n  let templateData = routerUtil.getTemplateBasicData(param);\n\n  Object.assign(templateData, { \"title\": \"豪客风采\" });\n\n  return res.render(\"match/share\", templateData);\n})\n\nmodule.exports = router"]}