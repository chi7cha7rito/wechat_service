{"version":3,"sources":["../../../src/routers/render/pay.js"],"names":["router","Router","get","req","res","next","param","matchJavascript","matchStylesheet","templateData","getTemplateBasicData","render","module","exports"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIA,SAAS,kBAAQC,MAAR,EAAb;;AAEA;;;AAGAD,OAAOE,GAAP,CAAW,SAAX,EAAsB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxC,MAAIC,QAAQ;AACVH,SAAKA,GADK;AAEVI,qBAAiB,IAFP;AAGVC,qBAAiB;AAHP,GAAZ;;AAMA,MAAIC,eAAe,iBAAWC,oBAAX,CAAgCJ,KAAhC,CAAnB;;AAEA,wBAAcG,YAAd,EAA4B,EAAE,SAAS,MAAX,EAA5B;;AAEA,SAAOL,IAAIO,MAAJ,CAAW,YAAX,EAAyBF,YAAzB,CAAP;AACD,CAZD;;AAcA;;;AAGAT,OAAOE,GAAP,CAAW,UAAX,EAAuB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzC,MAAIC,QAAQ;AACVH,SAAKA,GADK;AAEVI,qBAAiB,IAFP;AAGVC,qBAAiB;AAHP,GAAZ;;AAMA,MAAIC,eAAe,iBAAWC,oBAAX,CAAgCJ,KAAhC,CAAnB;;AAEA,wBAAcG,YAAd,EAA4B,EAAE,SAAS,MAAX,EAA5B;;AAEA,SAAOL,IAAIO,MAAJ,CAAW,aAAX,EAA0BF,YAA1B,CAAP;AACD,CAZD;;AAcA;;;AAGAT,OAAOE,GAAP,CAAW,QAAX,EAAqB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACvC,MAAIC,QAAQ;AACVH,SAAKA,GADK;AAEVI,qBAAiB,IAFP;AAGVC,qBAAiB;AAHP,GAAZ;;AAMA,MAAIC,eAAe,iBAAWC,oBAAX,CAAgCJ,KAAhC,CAAnB;;AAEA,wBAAcG,YAAd,EAA4B,EAAE,SAAS,MAAX,EAA5B;;AAEA,SAAOL,IAAIO,MAAJ,CAAW,WAAX,EAAwBF,YAAxB,CAAP;AACD,CAZD;;AAeAG,OAAOC,OAAP,GAAiBb,MAAjB","file":"pay.js","sourcesContent":["import express from 'express'\nimport logger from '../../utils/logger'\nimport routerUtil from '../../utils/router'\nimport config from '../../utils/config'\nimport wechatPay from 'wechat-pay'\n\nlet router = express.Router()\n\n/**\n * desc:微信付款页面，由于公众号支付页面需要支付的授权目录下面\n */\nrouter.get('/wechat', (req, res, next) => {\n  let param = {\n    req: req,\n    matchJavascript: true,\n    matchStylesheet: true\n  }\n\n  let templateData = routerUtil.getTemplateBasicData(param)\n\n  Object.assign(templateData, { 'title': '在线充值' })\n\n  return res.render('pay/wechat', templateData)\n})\n\n/**\n * @desc 微信支付成功页\n */\nrouter.get('/success', (req, res, next) => {\n  let param = {\n    req: req,\n    matchJavascript: true,\n    matchStylesheet: true\n  }\n\n  let templateData = routerUtil.getTemplateBasicData(param)\n\n  Object.assign(templateData, { 'title': '支付成功' })\n\n  return res.render('pay/success', templateData)\n})\n\n/**\n * @desc 微信支付失败页\n */\nrouter.get('/error', (req, res, next) => {\n  let param = {\n    req: req,\n    matchJavascript: true,\n    matchStylesheet: true\n  }\n\n  let templateData = routerUtil.getTemplateBasicData(param)\n\n  Object.assign(templateData, { 'title': '支付失败' })\n\n  return res.render('pay/error', templateData)\n})\n\n\nmodule.exports = router\n"]}